<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Geemap World Map</title>
    <link rel="stylesheet" href="style.css" />
    <style>
      #geemap-frame { width: 100%; height: 600px; border: none; }
      #error-message { display: none; color: red; font-weight: bold; text-align: center; margin-top: 20px; }
    </style>
  </head>
  <body>
    <iframe id="geemap-frame" src=""></iframe>
    <div id="error-message">‚ùå Error: Could not load map file.</div>

    <a href="page_module/module.html?module=week_one_China">
      <button type="button">Volcanoes and Tectonic Plates</button>
    </a>

    <script>
      const urlParams = new URLSearchParams(window.location.search);
      const id = urlParams.get('id') || '';
      const iframe = document.getElementById('geemap-frame');
      const errorMsg = document.getElementById('error-message');
      const filePath = `/module/geemaps/geemap_id_${id}.html`;

      fetch(filePath)
        .then(response => {
          if (!response.ok) throw new Error('File not found');
          iframe.src = filePath;
            console.log("found");
        })
        .catch(err => {
          iframe.style.display = 'none';
          errorMsg.style.display = 'block';
            console.log("not found");
        });
    </script>
  </body>
</html>
